# 이동수단 분류 모델 개발 중간 보고서

**프로젝트 목표:** GeoLife GPS 궤적 데이터 기반 사용자 이동 상태 분류 모델 개발. 핵심 목표는 '인간 동력 기반 활동(걷기, 자전거)'과 '그 외 동력 이동수단'을 명확히 구분하는 것임.


## 1차 모델링: 11개 전체 클래스 분류

### 1.1. 학습 데이터 분포 및 문제점

* **데이터 현황:** 원본 데이터셋의 11개 라벨을 모두 사용함. 아래는 학습에 사용된 전체 원본 데이터의 분포임.
    ```
    +----------+-----+
    |label     |count|
    +----------+-----+
    |bus       |2853 |
    |boat      |7    |
    |walk      |6460 |
    |run       |6    |
    |car       |993  |
    |bike      |2089 |
    |motorcycle|2    |
    |train     |299  |
    |taxi      |1179 |
    |subway    |813  |
    |airplane  |17   |
    +----------+-----+
    ```
* **핵심 문제:** `run`(6), `boat`(7), `motorcycle`(2) 등 다수 클래스의 데이터가 극심하게 부족하여, 모델이 유의미한 패턴을 학습하기 어려운 **심각한 데이터 불균형 상태** 확인.

### 1.2. 1차 모델 성능

* **정확도 (Accuracy): 0.4688 (47%)**
* **F1 점수 (F1 Score): 0.4108 (41%)**

### 1.3. 분석 및 진단

* **성능 평가:** 무작위 예측(약 9%)보다는 높으나, 모델의 전반적인 성능은 낮음.
* **혼동 행렬 분석:** 모델이 대부분의 이동수단을 **`walk`로 잘못 예측하는 매우 심각한 편향**을 보임.

| 실제 \ 예측 | walk | bus | car | bike | train | **정답 (TP)** | **총계** | **정답률 (Recall)** | 진단 |
| :--- | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :--- |
| **walk** | **25169** | 1150 | 237 | 353 | 59 | **25169** | 26968 | **93.3%** | **분류 성공적** |
| **bus** | **11456** | 6405 | 2544 | 746 | 356 | **6405** | 21507 | 29.8% | walk로 심각하게 오분류 |
| **car** | **4380** | 2822 | 5461 | 957 | 1045 | **5461** | 14665 | 37.2% | walk로 심각하게 오분류 |
| **bike** | **9110** | 945 | 498 | 2098 | 19 | **2098** | 12670 | 16.5% | walk로 심각하게 오분류 |
| **train** | 854 | 566 | 1800 | 505 | **4118** | **4118** | 7843 | 52.5% | 비교적 양호 |

* **해결 과제:**
    1.  **예측 편향:** `walk` 데이터가 가장 많다 보니, 모델이 불확실할 때 대부분 `walk`로 예측하는 손쉬운 길을 택함. 이로 인해 다른 클래스들의 성능이 급격히 저하됨.
    2.  **데이터 불균형:** 소수 클래스는 학습 자체가 되지 않음.
    3.  **유사 클래스 간 모호성:** `bus`, `car` 등 차량 이동수단 간 특징 구분에 실패함.

### 1.4. 다음 목표 설정

* `walk`로의 예측 편향과 클래스 간 모호성 문제를 해결하기 위해 **'문제 단순화'** 전략 수립.
* 핵심 목표인 '걷기', '자전거' 분류에 집중하기 위해 라벨을 3개 핵심 카테고리로 재그룹화하기로 결정함.


## 2차 모델링: 3개 핵심 클래스 재분류

### 2.1. 2차 모델링 전략

* **데이터 정제:** `airplane`, `boat` 등 이질적 데이터 제외.
* **라벨 재그룹화:** 유사 클래스를 통합하여 `walk`, `bike`, `transport` 3개 그룹으로 재구성함.
    * **`walk` 그룹:** 'walk', 'run' 통합
    * **`bike` 그룹:** 'bike', 'motorcycle' 통합
    * **`transport` 그룹:** 'bus', 'car', 'taxi', 'subway', 'train' 통합
* **최종 학습 데이터 분포:**
    ```
    +---------+-----+
    |label    |count|
    +---------+-----+
    |transport|6137 |
    |walk     |6466 |
    |bike     |2091 |
    +---------+-----+
    ```

### 2.2. 2차 모델 성능

* **정확도 (Accuracy): 0.6308 (63%)**
* **F1 점수 (F1 Score): 0.5927 (59%)**

### 2.3. 분석 및 진단 (최종 혼동 행렬 기반)

* **성능 향상 유의미성:** 1차 대비 **정확도 16.2%p, F1 점수 18.2%p 상승.** 문제 단순화 전략이 통계적으로 매우 유의미한 성능 향상을 가져옴.
* **혼동 행렬 분석:**

| 실제 \ 예측 | transport | walk | bike | **정답 (TP)** | **총계** | **정답률 (Recall)** | 진단 |
| :--- | :---: | :---: | :---: | :---: | :---: | :---: | :--- |
| **transport**| **35828**| 15959 | 18 | **35828**| 51805 | 69.1% | **비교적 양호** |
| **walk** | 5182 | **21934**| 1 | **21934**| 27117 | 80.9% | **분류 성공적** |
| **bike** | 5843 | 6861 | **98** | **98** | 12802 | **0.8%** | **분류 완전 실패** |

* **해결된 문제:** `walk` 분류 성능이 80.9%로 매우 높아졌으며, `transport` 분류도 69.1%로 준수한 성능을 보임.
* **남아있는 핵심 문제:** **`bike` 분류 성능이 0.8%로 처참한 수준.** 모델은 `bike`를 `walk`나 `transport`와 전혀 구분하지 못하고 있음. 이는 프로젝트의 핵심 목표 달성에 있어 가장 큰 장애물임.


## 종합 결론 및 향후 방향

* **현재까지의 성과:** 복잡한 11개 클래스 분류 문제를 3개 핵심 클래스로 단순화하여 `walk`와 `transport` 분류 성능을 크게 향상시키고 전체 정확도를 개선함.
* **현재의 한계:** '자전거'와 다른 두 클래스의 특징 구분에 결정적으로 실패하여 프로젝트의 핵심 목표 달성에는 미흡함.
* **향후 방향:**
    1.  **자전거 맞춤 피처 엔지니어링:** `bike`와 다른 클래스를 구분할 수 있는 새로운 특징(예: 정차 빈도, 방향 전환율, 가속도 변화율 등)을 개발하여 모델에 제공해야 함.
    2.  **데이터 불균형 해소:** `bike` 데이터가 상대적으로 적으므로, 학습 시 클래스 가중치 부여 또는 오버샘플링 기법을 적용하여 모델이 `bike`의 중요도를 높게 인식하도록 유도해야 함.