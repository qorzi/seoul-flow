# 실시간 이동 객체 시뮬레이터 및 분석 대시보드

## 1. 프로젝트 개요

본 프로젝트는 지도 위에 다수의 가상 객체(더미)를 생성하고, 사용자가 설정한 조건에 따라 이들이 움직이는 경로를 시뮬레이션하기 위해 제작되었다. 또한, 시뮬레이션을 통해 생성된 데이터를 기반으로 **스침(Graze) 이벤트**와 **시간대별 인구 밀도**를 분석하고 시각화하는 기능을 포함한다.

교통 흐름, 물류 시스템, 게임 NPC의 움직임 등 복잡한 동적 시나리오를 시각적으로 테스트하고 검증하는 것을 주된 목적으로 한다.

## 2. 주요 기능

### 탭 1: 시뮬레이터 (Simulator)

* **동적 경로 생성**: 사용자는 더미의 수, 속도 범위, 경로의 전체 길이 등 다양한 변수를 직접 설정하여 매번 새로운 시뮬레이션 환경을 구성할 수 있다.

* **지능적인 '스침' 제어**: 단순한 경로 겹침을 넘어, 두 가지 방식의 상호작용을 설정할 수 있다.

    * **공간적 겹침 (단순 경유)**: 두 더미가 동일한 '교차점'을 지나가지만, 각자의 속도로 이동하여 서로 다른 시간에 도착한다.

    * **시간적 스침 (속도 조절)**: 두 더미가 동일한 '교차점'에 정확히 같은 시간에 도착하도록, 한쪽 더미의 속도를 역산하여 자동으로 조절한다. 이를 통해 의도된 '스침' 시나리오를 보장한다.

* **실시간 시각화 및 현황판**:

    * Leaflet 라이브러리를 통해 지도 위에 생성된 경로와 실시간으로 움직이는 더미의 위치를 시각적으로 표시한다.

    * '더미 현황' 테이블을 통해 각 더미의 ID, 상태(대기, 이동중 등), 속도, 총 이동 거리, 진행률을 실시간으로 확인할 수 있다.

### 탭 2: 스침 기록 (Graze Events)

* **최근 스침 이벤트 시각화**: 백엔드 서버에서 최근 발생한 스침 이벤트 데이터를 가져와 지도 위에 표시한다.

* **데이터 수 제어**: 사용자가 직접 조회할 이벤트의 개수(최대 100개)를 입력하고 요청할 수 있다.

* **강조된 마커**: 이벤트가 발생한 위치는 채도가 낮은 지도 위에 애니메이션 효과가 있는 붉은색 마커로 표시되어 가시성을 높였다.

### 탭 3: 인구 밀도 (Density Map)

* **시간대별 밀도 시각화**: 최근 24시간 동안의 시간대별 그리드(Grid) 인구 밀도 데이터를 히트맵 형태로 시각화한다.

* **시간 탐색 슬라이더**: 사용자는 슬라이더를 조작하여 특정 시간대를 선택하고, 해당 시간의 인구 분포를 확인할 수 있다.

* **밀도에 따른 색상 구분**: 각 그리드는 인구 밀집도에 따라 세 가지 색상으로 구분되어 표시된다.

    * **녹색**: 원활

    * **주황색**: 혼잡

    * **빨간색**: 과밀

## 3. 핵심 구현 전략

본 프로젝트는 안정성과 예측 가능성을 높이기 위해 다음과 같은 핵심 전략을 기반으로 설계되었다.

* **교차점 우선 생성 (Intersection-First Design)**: 불안정한 무작위성에 의존하는 대신, 사용자가 설정한 '교차 비율'에 따라 먼저 '만남의 장소'가 될 교차점을 설계한다. 그 후, 이 교차점을 기준으로 각 더미의 전체 경로와 속도를 역산하여 생성하는 Top-down 방식을 채택했다. 이를 통해 사용자가 의도한 '스침' 현상을 정확하고 안정적으로 구현한다.